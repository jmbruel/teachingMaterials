% Options:
% withid: adds a header line for writing the student's ID
% We recommand to keep the twoside option as it permits to add a specific header (student' name) on each new page.
\documentclass[a4paper,twoside,withid]{exam}

% packages already loaded: graphicx, geometry, listings, lastpage, fancyhdr, xcolor, mathpazo, ifthen, xstring, qcm, enumitem, amssymb, etoolbox, multido

\usepackage[final,activate={true,nocompatibility},kerning=true,spacing=true]{microtype}
\usepackage[english,french]{babel}
\usepackage[scaled=0.9]{DejaVuSansMono}
\usepackage{lipsum} % For demo. To remove

% You can adjust the line spread of the font used in this document (mathpazo).
%\linespread{1.05}

% You can override the default page dimensions, mainly left and right (touching the other parameters may break the template):
%\geometry{bottom=0.5cm, top=-1cm, left=1.3cm, right=1.3cm, headheight=5cm, includefoot, includehead}

% You can customise the centered footpage:
%\cfoot[\large\thepage~~/~~\pageref{LastPage}]{\large\thepage~~/~~\pageref{LastPage}}
% but do not change the \lhead, \rhead, \lfoot, \rfoot, and \chead as they are used for page detection and IDs

\usepackage{courier} %% Sets font for listing as Courier.
\lstset{
tabsize = 4, %% set tab space width
showstringspaces = false, %% prevent space marking in strings, string is defined as the text that is generally printed directly to the console
%numbers = left, %% display line numbers on the left
commentstyle = \color{green}, %% set comment color
keywordstyle = \color{blue}, %% set keyword color
stringstyle = \color{red}, %% set string color
rulecolor = \color{black}, %% set frame color to avoid being affected by text color
basicstyle = \small \ttfamily , %% set listing font and size
breaklines = true, %% enable line breaking
numberstyle = \tiny,
}

\title{\vspace*{-1cm}\huge R3.03 -- ANALYSE}
\author{2022-2023\\[0.1cm]
\textbf{Une seule page A4 recto/verso manuscrite autorisée.}\\[0.1cm]
Durée : 1 heure -- Sujet écrit sur \pageref{LastPage} pages
}
\date{5 octobre 2022}


\begin{document}


% Creates the exam header
\begin{minipage}{\textwidth}
   \maketitle
\end{minipage}

% The template contains several exam commands:
% \exerciceExam{number}{title} creates a section dedicated to a given exercice. Replace 'number' by the number of points of the exam. 'title' is the title of the exercice (if no title, do not forget to put {})

% \questionExam{text} creates a numbered question. Replace 'text' by the title of the question.

% \begin{qcmExam}\end{qcmExam} creates a QCM environment


\noindent\fbox{\parbox{\textwidth}{%
Écrivez directement sur le sujet dans les zones de réponse. Ne pas déborder de ces zones.\\
\textbf{N'oubliez pas de mettre votre nom sur chaque page.}%
}}


\exerciceExam{4}{Diagramme de classe UML et code Java}

% \inlineAnswerBox as one argument: the length of the box (computed in number of characters). By default 10 characters.
\questionExam{Soit le diagramme de classe suivant. Indiquez, pour chaque classe, combien son implémentation Java aura d'attributs.

\includegraphics[width=0.3\textwidth]{dc1.png}

\begin{itemize}
	\item Xorg~~~~~~~~~~\inlineAnswerBox{}
	\item Schpounz \inlineAnswerBox{}
	\item Plunt~~~~~~~~~\inlineAnswerBox{}
\end{itemize}

}

\questionExam{Donnez un exemple de constructeur de la classe \textsf{Plunt} qui respecte le diagramme de classe de la question précédente.}

% First argument: color (optional, by default black). The color of the dots. Put white for no dot.
% Second parameter: the line spacing
% Third argument: the number of lines
% Fourth argument: the number of columns
\answerExam[gray]{1.5}{8}{1}

%\newpage

%-------------------------------------------------
\exerciceExam{6}{Liens entre diagrammes UML}
%-------------------------------------------------

\questionExam{Dessinez un diagramme de séquence système (DSS) cohérent avec ce diagramme de séquence (DS) :

\includegraphics[width=0.8\textwidth]{ds1.png}
}

\answerExam[white]{1.5}{8}{1}


\questionExam{Soit la méthode java ci-dessous. Réalisez le diagramme de séquence correspondant à l'appel \texttt{Main.getCount(5)}.}

\begin{lstlisting}[language = Java]
	public class Main
	{
		Xorg x;
		...
		public static int getCount(int arg)
		{   for(int i = 0; i < arg; i++)
				x.schpountz();
			return i;
		}
	}
\end{lstlisting}


\answerExam[white]{1.5}{10}{1}


%\newpage

\begin{qcmExam}
	\item Dans quel ordre est-il le plus logique de réaliser les diagrammes UML suivants\footnote{DC = Diagramme de Classe -- DS = Diagramme de Séquence -- UC = Diagramme des Cas d'Utilisation} ?
		
		\begin{qcmExam}
		\item DC $\rightarrow$ UC $\rightarrow$ DS
		\item UC $\rightarrow$ DC $\rightarrow$ DS
		\item UC $\rightarrow$ DS $\rightarrow$ DC
		\end{qcmExam}
	
	\end{qcmExam}
%-------------------------------------------------

	
\exerciceExam{4}{Diagrammes des Cas d'Utilisation}

\questionExam{Pourquoi le diagramme des Cas d'Utilisation (UC) suivant n'est pas correct ?
	
	\includegraphics[width=0.6\textwidth]{uc1.png}
}

\answerExam[gray]{1.5}{4}{1}

\begin{qcmExam}
	\item Parmi les relations suivantes, lesquelles sont des relations possibles entre cas d'utilisation (plusieurs réponses possibles) ?
		
		\begin{qcmExam}
		\item $<< extend >>$
		\item $<< include >>$
		\item Association
		\item Dépendance 
		\item Héritage 
		\item Aucune des autres réponses
		\end{qcmExam}
\end{qcmExam}
	
\begin{qcmExam}
	\item Un acteur peut hériter d'un autre acteur dans un diagramme des Cas d'Utilisation.
		
		\begin{qcmExam}
		\item vrai
		\item faux
		\end{qcmExam}
\end{qcmExam}

\newpage

%-------------------------------------------------
\exerciceExam{4}{Modeles et code}
%-------------------------------------------------
\begin{qcmExam}
\item Une classe Java contient tous ses objets ?
	
	\begin{qcmExam}
	\item vrai
	\item faux
	\end{qcmExam}

\item La relation d'héritage qui relie deux classes :
		
	\begin{qcmExam}
	\item Ne peut pas avoir de nom (contrairement à une association)
	\item Peut se lire ``est un"
	\item Peut se lire ``a un"
	\item Possède des multiplicités
	\end{qcmExam}

\item La notion de "navigation" d'une association $A \rightarrow B$ représente le fait que :
		
	\begin{qcmExam}
	\item Les objets de la classe $A$ ont accès aux références d'objets de la classe $B$
	\item Les objets de la classe $B$ ont accès aux références d'objets de la classe $A$
	\item Les objets de la classe $B$ n'ont pas accès aux références d'objets de la classe $A$
	\item Les objets de la classe $A$ n'ont pas accès aux références d'objets de la classe $B$
	\end{qcmExam}
				
\end{qcmExam}

%-------------------------------------------------

\end{document}
